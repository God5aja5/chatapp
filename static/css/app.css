*{box-sizing:border-box;margin:0;padding:0}
html,body{
  height:100%;
  font-family:'IBM Plex Sans',system-ui,Arial,sans-serif;
  background:var(--bg);
  color:var(--text);
  overflow:hidden;
}
.ambient{
  position:fixed;
  inset:0;
  background:
    radial-gradient(circle at 10% 20%, rgba(255,122,24,0.12), transparent 45%),
    radial-gradient(circle at 80% 10%, rgba(255,180,71,0.08), transparent 45%),
    radial-gradient(circle at 85% 80%, rgba(255,122,24,0.1), transparent 50%);
  pointer-events:none;
  z-index:0;
}
.app{
  position:relative;
  z-index:1;
  display:flex;
  flex-direction:column;
  height:100vh;
}
.header{
  display:flex;
  align-items:center;
  gap:14px;
  padding:16px 20px;
  background:rgba(16,24,32,0.9);
  border-bottom:1px solid var(--border);
  backdrop-filter:blur(16px);
  box-shadow:0 6px 20px rgba(0,0,0,0.35);
}
.header-main{display:flex;flex-direction:column}
.header-spacer{flex:1}
.header-actions{display:flex;gap:8px;align-items:center}
.avatar{
  width:52px;
  height:52px;
  border-radius:14px;
  overflow:hidden;
  border:2px solid rgba(255,255,255,0.06);
}
.avatar img{width:100%;height:100%;object-fit:cover}
.title{
  font-family:'Space Grotesk',system-ui,Arial,sans-serif;
  font-weight:600;
  font-size:18px;
}
.presence{font-size:13px;color:var(--muted);display:flex;align-items:center;gap:6px}
.presence::before{
  content:'';
  width:8px;
  height:8px;
  border-radius:50%;
  background:#22c55e;
  box-shadow:0 0 10px rgba(34,197,94,0.8);
  animation:pulse 1.8s ease-in-out infinite;
}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}
.hamburger{
  width:46px;
  height:46px;
  border-radius:12px;
  border:1px solid var(--border);
  background:rgba(255,122,24,0.08);
  color:var(--text);
  font-size:20px;
  cursor:pointer;
  transition:transform 0.2s ease, background 0.2s ease;
}
.hamburger:hover{background:rgba(255,122,24,0.16);transform:scale(1.03)}
.brand{
  display:flex;
  align-items:center;
  gap:10px;
  padding:6px 10px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,0.06);
  background:rgba(10,16,20,0.5);
}
.brand-icon{
  width:36px;
  height:36px;
  border-radius:10px;
  display:flex;
  align-items:center;
  justify-content:center;
  background:linear-gradient(135deg,var(--accent),var(--accent-2));
  font-size:18px;
}
.brand-name{
  font-family:'Space Grotesk',system-ui,Arial,sans-serif;
  font-size:14px;
  font-weight:600;
}
.brand-tagline{font-size:11px;color:var(--muted)}
.icon{
  width:46px;
  height:46px;
  border-radius:12px;
  background:rgba(255,122,24,0.08);
  border:1px solid var(--border);
  display:flex;
  align-items:center;
  justify-content:center;
  color:var(--text);
  font-size:20px;
  cursor:pointer;
  transition:transform 0.2s ease, background 0.2s ease;
  text-decoration:none;
}
.icon:hover{background:rgba(255,122,24,0.16);transform:scale(1.03)}
.icon.mini{width:34px;height:34px;font-size:16px}
.rooms-panel{
  position:fixed;
  left:16px;
  top:90px;
  background:rgba(18,26,34,0.96);
  padding:12px;
  border-radius:16px;
  border:1px solid var(--border);
  max-width:320px;
  max-height:70vh;
  overflow-y:auto;
  display:none;
  z-index:1000;
  box-shadow:0 20px 60px rgba(0,0,0,0.65);
  animation:slideIn 0.2s ease-out;
}
.rooms-panel .room{padding:12px 14px;border-radius:10px;cursor:pointer;transition:all 0.2s ease;margin-bottom:6px}
.rooms-panel .room:hover{background:rgba(255,122,24,0.08)}
.rooms-panel .room.active{background:linear-gradient(135deg,var(--accent),var(--accent-2));color:#1b1207;font-weight:700}
.stickers-panel{
  position:fixed;
  left:50%;
  bottom:120px;
  transform:translateX(-50%);
  width:min(680px, calc(100% - 32px));
  background:rgba(18,26,34,0.98);
  border:1px solid var(--border);
  border-radius:18px;
  padding:16px;
  box-shadow:0 22px 60px rgba(0,0,0,0.7);
  display:none;
  z-index:1000;
}
.stickers-panel.open{display:block}
.stickers-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:12px}
.stickers-header h4{font-family:'Space Grotesk',system-ui,Arial,sans-serif;font-size:16px}
.stickers-search input{
  width:100%;
  padding:10px 12px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.08);
  background:rgba(9,13,16,0.7);
  color:var(--text);
  margin-bottom:10px;
}
.stickers-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(56px,1fr));
  gap:8px;
  max-height:300px;
  overflow:auto;
}
.sticker-item{
  border-radius:12px;
  border:1px solid rgba(255,255,255,0.06);
  background:rgba(255,122,24,0.05);
  padding:6px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  transition:transform 0.15s ease, background 0.15s ease;
}
.sticker-item:hover{transform:scale(1.05);background:rgba(255,122,24,0.12)}
.sticker-item img{width:44px;height:44px}
.messages{
  flex:1;
  overflow-y:auto;
  padding:20px 16px 180px 16px;
  display:flex;
  flex-direction:column;
  gap:12px;
}
.messages::-webkit-scrollbar{width:8px}
.messages::-webkit-scrollbar-thumb{background:rgba(255,122,24,0.3);border-radius:10px}
.msg{
  max-width:75%;
  padding:14px 18px;
  border-radius:16px;
  background:rgba(18,26,34,0.95);
  border:1px solid rgba(255,255,255,0.06);
  box-shadow:0 8px 20px rgba(0,0,0,0.35);
  position:relative;
  animation:messageSlide 0.2s ease-out;
  word-wrap:break-word;
}
@keyframes messageSlide{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
.msg.me{
  align-self:flex-end;
  background:linear-gradient(135deg,var(--accent),var(--accent-2));
  color:#1b1207;
}
.msg.admin{
  border-color: rgba(255,76,76,0.55);
  background: rgba(74,12,12,0.85);
}
.msg.me.admin{
  background: linear-gradient(135deg,#ff4c4c,#ff8b5c);
  color:#1b1207;
}
.meta{font-size:12px;color:var(--muted);margin-bottom:8px;font-weight:600}
.msg.me .meta{color:rgba(27,18,7,0.7)}
.msg.admin .meta{color:rgba(255,255,255,0.75)}
.text{line-height:1.6;font-size:15px}
.attach{margin-top:10px;display:flex;gap:10px;flex-wrap:wrap}
.attach img,.attach video{max-width:200px;border-radius:12px;object-fit:cover;max-height:280px;cursor:pointer;border:2px solid rgba(255,255,255,0.08)}
.reactions{display:flex;gap:6px;margin-top:10px;flex-wrap:wrap}
.react-pill{
  background:rgba(255,122,24,0.15);
  border:1px solid rgba(255,122,24,0.3);
  padding:6px 12px;
  border-radius:999px;
  font-size:13px;
  cursor:pointer;
}
.msg .actions{
  position:absolute;
  right:10px;
  top:10px;
  opacity:0;
  transition:opacity 0.2s ease;
  display:flex;
  gap:6px;
}
.msg:hover .actions{opacity:1}
.msg .actions button{
  background:rgba(0,0,0,0.4);
  border:none;
  padding:6px 10px;
  border-radius:8px;
  cursor:pointer;
  font-size:16px;
  color:#fff;
}
.bottom{
  position:fixed;
  left:0;
  right:0;
  bottom:0;
  padding:16px;
  background:linear-gradient(to top, rgba(11,18,20,0.98) 0%, rgba(11,18,20,0.9) 70%, transparent 100%);
  display:flex;
  justify-content:center;
  z-index:50;
}
.inputbar{
  width:100%;
  max-width:1000px;
  padding:10px 12px;
  background:rgba(16,24,32,0.95);
  border:1px solid var(--border);
  border-radius:16px;
  display:flex;
  gap:10px;
  align-items:center;
  box-shadow:0 10px 30px rgba(0,0,0,0.5);
}
.textarea{
  flex:1;
  border:none;
  background:transparent;
  color:var(--text);
  outline:none;
  padding:8px 12px;
  border-radius:10px;
  min-height:48px;
  max-height:120px;
  resize:none;
  font-size:15px;
}
.send{
  padding:12px 20px;
  border-radius:12px;
  border:none;
  background:linear-gradient(135deg,var(--accent),var(--accent-2));
  color:#1b1207;
  font-weight:700;
  font-size:15px;
  cursor:pointer;
  box-shadow:0 6px 18px rgba(255,122,24,0.4);
}
.preview-row{
  position:fixed;
  left:16px;
  right:16px;
  bottom:100px;
  display:flex;
  gap:10px;
  overflow-x:auto;
  padding:10px;
  background:rgba(16,24,32,0.95);
  border-radius:12px;
  border:1px solid var(--border);
}
.preview-thumb{width:90px;height:90px;border-radius:12px;object-fit:cover;border:2px solid rgba(255,255,255,0.06)}
.toast{
  position:fixed;
  left:50%;
  transform:translateX(-50%);
  bottom:200px;
  background:rgba(16,24,32,0.95);
  border:1px solid var(--border);
  color:var(--text);
  padding:12px 20px;
  border-radius:12px;
  z-index:9999;
  opacity:0;
  transition:all 0.3s ease;
  box-shadow:0 8px 24px rgba(0,0,0,0.5);
  font-size:14px;
  font-weight:600;
}
.toast.show{opacity:1;bottom:220px}
.notif-center{
  position:fixed;
  right:16px;
  top:90px;
  background:rgba(18,26,34,0.98);
  border:1px solid var(--border);
  padding:16px;
  border-radius:16px;
  max-width:380px;
  max-height:70vh;
  overflow-y:auto;
  display:none;
  z-index:999;
  box-shadow:0 20px 60px rgba(0,0,0,0.7);
  animation:slideIn 0.2s ease-out;
}
.settings-modal{
  position:fixed;
  right:16px;
  bottom:120px;
  background:rgba(18,26,34,0.98);
  border:1px solid var(--border);
  padding:20px;
  border-radius:16px;
  max-width:480px;
  max-height:75vh;
  overflow-y:auto;
  display:none;
  z-index:999;
  box-shadow:0 20px 60px rgba(0,0,0,0.7);
  animation:slideIn 0.2s ease-out;
}
.settings-modal h3{
  margin:12px 0;
  font-family:'Space Grotesk',system-ui,Arial,sans-serif;
  font-size:20px;
}
.settings-modal strong{display:block;margin-top:16px;margin-bottom:8px;color:var(--accent);font-weight:600}
.settings-row{display:flex;gap:10px;align-items:center;margin:10px 0}
.settings-row input,.settings-row textarea{
  flex:1;
  padding:12px 16px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,0.08);
  background:rgba(9,13,16,0.7);
  color:var(--text);
  font-size:14px;
}
.room-item{
  padding:12px 14px;
  border-radius:10px;
  background:rgba(255,122,24,0.06);
  border:1px solid rgba(255,255,255,0.06);
  margin-bottom:10px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
}
.small-muted{font-size:12px;color:var(--muted)}
.copy-btn{
  padding:10px 14px;
  border-radius:10px;
  border:1px solid var(--border);
  background:rgba(255,122,24,0.08);
  color:var(--text);
  font-size:13px;
  font-weight:600;
  cursor:pointer;
}
.full-btn{
  width:100%;
  padding:12px;
  border-radius:10px;
  border:none;
  background:linear-gradient(135deg,var(--accent),var(--accent-2));
  color:#1b1207;
  font-weight:700;
  font-size:14px;
  cursor:pointer;
  box-shadow:0 6px 18px rgba(255,122,24,0.35);
}
.reply-banner{
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:rgba(255,122,24,0.12);
  border:1px solid rgba(255,122,24,0.25);
  border-radius:12px;
  padding:8px 12px;
  margin-bottom:10px;
}
.setup-modal{
  position:fixed;
  inset:0;
  display:none;
  align-items:center;
  justify-content:center;
  background:rgba(0,0,0,0.55);
  z-index:1200;
}
.setup-modal.show{display:flex}
.setup-card{
  background:rgba(16,24,32,0.98);
  border:1px solid var(--border);
  border-radius:16px;
  padding:20px;
  width:min(420px, 90%);
  box-shadow:0 20px 50px rgba(0,0,0,0.6);
}
.setup-card h3{font-family:'Space Grotesk',system-ui,Arial,sans-serif;margin-bottom:8px}
.setup-card p{color:var(--muted);margin-bottom:10px}
.setup-card ol{padding-left:18px;color:var(--muted);font-size:14px;margin-bottom:14px}
.setup-actions{display:flex;gap:10px;justify-content:flex-end}
@keyframes slideIn{from{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}
@media (max-width:900px){
  .brand{display:none}
}
@media (max-width:768px){
  .msg{max-width:90%}
  .settings-modal{left:12px;right:12px;max-width:calc(100% - 24px);bottom:100px}
  .settings-row{flex-direction:column;align-items:stretch}
  .header{padding:12px 16px}
  .hamburger,.icon{width:42px;height:42px;font-size:18px}
  .avatar{width:46px;height:46px}
}
